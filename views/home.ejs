<% layout('layouts/boilerplate') %>

<!-- Hero Section -->
<section class="airbnb-hero">
    <div class="airbnb-hero-content">
        <h1>Not sure where to go? Perfect.</h1>
        <p>Find incredible places to stay around the world</p>
        <div class="hero-search-bar">
            <input type="text" placeholder="Search destinations" id="heroSearchInput">
            <button onclick="searchFromHero()">
                <i class="fas fa-search me-2"></i>Explore
            </button>
    </div>
    </div>
</section>

<!-- Popular Destinations Section -->
<section class="listings-section">
    <div class="container">
        <div class="section-header">
            <h2>Popular homes around the world</h2>
            <p>Explore some of the most sought-after destinations</p>
    </div>

        <div class="position-relative">
            <div class="horizontal-scroll" id="popularScroll">
                <!-- Sample Cards - In production, these would be populated from database -->
                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=400" alt="Paris">
                        <span class="guest-favorite">Guest favourite</span>
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Paris, France</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.98</span>
                            </div>
                        </div>
                        <div class="card-title">City views • Hosted by Marie</div>
                        <div class="card-price">
                            <strong>₹15,000</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=400" alt="Tokyo">
                        <span class="guest-favorite">Guest favourite</span>
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Tokyo, Japan</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.95</span>
                            </div>
                        </div>
                        <div class="card-title">Modern apartment • Hosted by Yuki</div>
                        <div class="card-price">
                            <strong>₹12,500</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1523531294919-4bcd7c65e216?w=400" alt="Bali">
                        <span class="guest-favorite">Guest favourite</span>
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Bali, Indonesia</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.92</span>
                            </div>
                        </div>
                        <div class="card-title">Beach villa • Hosted by Ketut</div>
                        <div class="card-price">
                            <strong>₹8,000</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400" alt="London">
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>London, UK</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.89</span>
                            </div>
                        </div>
                        <div class="card-title">Cozy flat • Hosted by Oliver</div>
                        <div class="card-price">
                            <strong>₹18,000</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?w=400" alt="New York">
                        <span class="guest-favorite">Guest favourite</span>
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>New York, USA</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.97</span>
                            </div>
                        </div>
                        <div class="card-title">Manhattan loft • Hosted by Sarah</div>
                        <div class="card-price">
                            <strong>₹22,000</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400" alt="Dubai">
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Dubai, UAE</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.93</span>
                            </div>
                        </div>
                        <div class="card-title">Luxury penthouse • Hosted by Ahmed</div>
                        <div class="card-price">
                            <strong>₹30,000</strong> per night
                    </div>
                </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Explore India Section -->
<section class="listings-section bg-light">
    <div class="container">
        <div class="section-header">
            <h2>Discover India</h2>
            <p>Amazing places to stay across incredible India</p>
        </div>

        <div class="position-relative">
            <div class="horizontal-scroll" id="indiaScroll">
                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1524492412937-b28074a5d7da?w=400" alt="Goa">
                        <span class="guest-favorite">Guest favourite</span>
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Goa, India</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.91</span>
                            </div>
                        </div>
                        <div class="card-title">Beach cottage • Sea views</div>
                        <div class="card-price">
                            <strong>₹5,500</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1587474260584-136574528ed5?w=400" alt="Jaipur">
                        <span class="guest-favorite">Guest favourite</span>
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Jaipur, India</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.88</span>
                </div>
            </div>
                        <div class="card-title">Heritage haveli • Royal experience</div>
                        <div class="card-price">
                            <strong>₹4,800</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1596436889106-be35e843f974?w=400" alt="Kerala">
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Kerala, India</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.94</span>
                </div>
            </div>
                        <div class="card-title">Houseboat • Backwater views</div>
                        <div class="card-price">
                            <strong>₹6,200</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400" alt="Manali">
                        <span class="guest-favorite">Guest favourite</span>
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Manali, India</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.96</span>
                </div>
            </div>
                        <div class="card-title">Mountain cabin • Himalayan views</div>
                        <div class="card-price">
                            <strong>₹3,500</strong> per night
        </div>
    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1524850011238-e3d235c7d4c9?w=400" alt="Udaipur">
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Udaipur, India</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.90</span>
            </div>
        </div>
                        <div class="card-title">Lake palace • Historic charm</div>
                        <div class="card-price">
                            <strong>₹7,800</strong> per night
                        </div>
                    </div>
                </a>

                <a href="/listings" class="airbnb-card">
                    <div class="airbnb-card-image">
                        <img src="https://images.unsplash.com/photo-1524338198850-8a2ff63aaceb?w=400" alt="Mumbai">
                        <button class="wishlist-btn" onclick="event.preventDefault();">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="airbnb-card-content">
                        <div class="card-location">
                            <h3>Mumbai, India</h3>
                            <div class="card-rating">
                                <i class="fas fa-star"></i>
                                <span>4.85</span>
                    </div>
                </div>
                        <div class="card-title">Modern apartment • City center</div>
                        <div class="card-price">
                            <strong>₹4,200</strong> per night
            </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="listings-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <h2 class="display-5 fw-bold mb-3">Try hosting</h2>
                <p class="lead mb-4">Earn extra income and unlock new opportunities by sharing your space.</p>
                <a href="/listings/new" class="btn-airbnb btn-lg">
                    <i class="fas fa-plus me-2"></i>Get started
                    </a>
                </div>
            <div class="col-lg-6">
                <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600" 
                     alt="Hosting" 
                     class="img-fluid rounded-3 shadow-lg">
            </div>
        </div>
    </div>
</section>

<!-- Inspiration Section -->
<section class="listings-section bg-light">
    <div class="container text-center">
        <div class="section-header">
            <h2>Inspiration for future getaways</h2>
            <p>Browse all listings and find your perfect stay</p>
        </div>
        <a href="/listings" class="btn-airbnb btn-lg">
            <i class="fas fa-compass me-2"></i>Explore all listings
        </a>
    </div>
</section>

<script>
// Search functionality
function searchFromHero() {
    const searchInput = document.getElementById('heroSearchInput');
    const query = searchInput.value.trim();
    if (query) {
        window.location.href = `/listings?search=${encodeURIComponent(query)}`;
    } else {
        window.location.href = '/listings';
    }
}

// Allow search on Enter key
document.getElementById('heroSearchInput')?.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        searchFromHero();
    }
});

// Horizontal scroll functionality
function setupHorizontalScroll(scrollId, prevBtnId, nextBtnId) {
    const scrollContainer = document.getElementById(scrollId);
    if (!scrollContainer) return;

    const scrollAmount = 320; // card width + gap

    // Auto-scroll on mouse wheel
    scrollContainer.addEventListener('wheel', (e) => {
        if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
            e.preventDefault();
            scrollContainer.scrollLeft += e.deltaY;
        }
    });
}

// Initialize scroll containers
setupHorizontalScroll('popularScroll');
setupHorizontalScroll('indiaScroll');
</script>